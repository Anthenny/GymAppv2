{"version":3,"sources":["shared/context/auth-context.js","shared/components/UIElements/LoadingSpinner.js","shared/components/Navigation/Nav.js","shared/components/Navigation/SideBar.js","App.js","index.js"],"names":["AuthContext","createContext","isLoggedIn","gebruikerId","gebruiker","undefined","token","login","logout","LoadingSpinner","props","className","asOverlay","Nav","auth","useContext","naam","src","process","image","alt","SideBar","to","exact","activeClassName","icon","onClick","library","add","faClipboard","faUser","faSignOutAlt","faSignInAlt","faUserPlus","Gebruikers","React","lazy","Logboek","LogboekSpecifiek","UpdateLog","AuthLogin","AuthSignup","App","routes","useState","setToken","setGebruikerId","setGebruiker","useCallback","expirationDate","tokenExpirationDate","Date","getTime","localStorage","setItem","JSON","stringify","expiration","toISOString","removeItem","useEffect","storedData","parse","getItem","path","Provider","value","fallback","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9b695d7.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  gebruikerId: null,\r\n  gebruiker: undefined,\r\n  token: null,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React, { useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../../context/auth-context\";\r\nimport \"./Nav.css\";\r\n\r\nconst Nav = () => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <h2>Welkom {!auth.gebruiker ? \"\" : `${auth.gebruiker.naam}`}</h2>\r\n      {auth.gebruiker && (\r\n        <div className=\"nav__user__info\">\r\n          <img src={`${process.env.REACT_APP_ASSET_URL}/${auth.gebruiker.image}`} alt=\"\" />\r\n          <h4>{auth.gebruiker.naam}</h4>\r\n        </div>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { AuthContext } from \"../../context/auth-context\";\r\n\r\nimport \"./SideBar.css\";\r\n\r\nconst SideBar = () => {\r\n  // Je krijgt een object terug die re-renderd als de context veranderd\r\n  const auth = useContext(AuthContext);\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar__container\">\r\n        <div className=\"sidebar__brand\">\r\n          <h1>Guardian</h1>\r\n          <p className=\"time\">09:54</p>\r\n          <p className=\"date\">11-5-2021</p>\r\n        </div>\r\n\r\n        <div className=\"sidebar__menu\">\r\n          <ul>\r\n            {auth.isLoggedIn && (\r\n              <li>\r\n                <NavLink to=\"/\" exact activeClassName=\"active\">\r\n                  <FontAwesomeIcon className=\"sidebar__icon\" icon=\"clipboard\" />\r\n                  Logboek\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            <li>\r\n              <NavLink to=\"/gebruikers\" activeClassName=\"active\">\r\n                <FontAwesomeIcon className=\"sidebar__icon\" icon=\"user\" />\r\n                Gebruikers\r\n              </NavLink>\r\n            </li>\r\n            {!auth.isLoggedIn && (\r\n              <li>\r\n                <NavLink to=\"/login\" activeClassName=\"active\">\r\n                  <FontAwesomeIcon className=\"sidebar__icon\" icon=\"sign-in-alt\" />\r\n                  Log in\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            {!auth.isLoggedIn && (\r\n              <li>\r\n                <NavLink to=\"/signup\" activeClassName=\"active\">\r\n                  <FontAwesomeIcon className=\"sidebar__icon\" icon=\"user-plus\" />\r\n                  Sign up\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            {auth.isLoggedIn && (\r\n              <li>\r\n                <Link onClick={auth.logout} to=\"#\">\r\n                  <FontAwesomeIcon className=\"sidebar__icon\" icon=\"sign-out-alt\" />\r\n                  Log out\r\n                </Link>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport React, { useState, useCallback, useEffect, Suspense } from \"react\";\n\nimport Nav from \"./shared/components/Navigation/Nav\";\nimport SideBar from \"./shared/components/Navigation/SideBar\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport LoadingSpinner from \"./shared/components/UIElements/LoadingSpinner\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faClipboard,\n  faUser,\n  faSignOutAlt,\n  faSignInAlt,\n  faUserPlus,\n} from \"@fortawesome/free-solid-svg-icons\";\nlibrary.add(faClipboard, faUser, faSignOutAlt, faSignInAlt, faUserPlus);\n\nconst Gebruikers = React.lazy(() => import(\"./Gebruiker/pages/Gebruikers\"));\nconst Logboek = React.lazy(() => import(\"./Logboek/pages/Logboek\"));\nconst LogboekSpecifiek = React.lazy(() => import(\"./Logboek/pages/LogboekSpecifiek\"));\nconst UpdateLog = React.lazy(() => import(\"./Logboek/pages/UpdateLog\"));\nconst AuthLogin = React.lazy(() => import(\"./Gebruiker/pages/AuthLogin\"));\nconst AuthSignup = React.lazy(() => import(\"./Gebruiker/pages/AuthSignup\"));\n\nfunction App() {\n  const [token, setToken] = useState(false);\n  const [gebruikerId, setGebruikerId] = useState(null);\n  const [gebruiker, setGebruiker] = useState(undefined);\n\n  const login = useCallback((gebruikerId, gebruiker, token, expirationDate) => {\n    setToken(token);\n    setGebruikerId(gebruikerId);\n    setGebruiker(gebruiker);\n    const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\n    localStorage.setItem(\n      \"gebruikerData\",\n      JSON.stringify({\n        gebruikerId,\n        gebruiker,\n        token,\n        expiration: tokenExpirationDate.toISOString(),\n      })\n    ); // convert json to string\n  }, []);\n\n  const logout = useCallback(() => {\n    setToken(false);\n    setGebruikerId(null);\n    setGebruiker(undefined);\n    localStorage.removeItem(\"gebruikerData\");\n  }, []);\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem(\"gebruikerData\")); // convert string back to json\n    if (storedData && storedData.token && new Date(storedData.expiration) > new Date()) {\n      login(\n        storedData.gebruikerId,\n        storedData.gebruiker,\n        storedData.token,\n        new Date(storedData.expiration)\n      );\n    }\n  }, [login]);\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Logboek />\n        </Route>\n        <Route path=\"/gebruikers\" exact>\n          <Gebruikers />\n        </Route>\n        <Route path=\"/logboek/:logId\" exact>\n          <LogboekSpecifiek />\n        </Route>\n        <Route path=\"/logboek/update/:logId\" exact>\n          <UpdateLog />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Redirect to=\"/login\" />\n        </Route>\n        <Route path=\"/login\" exact>\n          <AuthLogin />\n        </Route>\n        <Route path=\"/signup\" exact>\n          <AuthSignup />\n        </Route>\n        <Route path=\"/gebruikers\" exact>\n          <Gebruikers />\n        </Route>\n        <Route path=\"*\">\n          <Redirect to=\"/login\" />\n        </Route>\n      </Switch>\n    );\n  }\n\n  return (\n    // Alles binnen in de provider is gesubscribed op auth-context als de value prop changed weten de components dat ook en worden ze gererenderd\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        gebruikerId: gebruikerId,\n        gebruiker: gebruiker,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <Nav />\n        <SideBar />\n        <Suspense\n          fallback={\n            <div className=\"center\">\n              <LoadingSpinner />\n            </div>\n          }\n        >\n          {routes}\n        </Suspense>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}