(this.webpackJsonpgymapp=this.webpackJsonpgymapp||[]).push([[1],{11:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(0),a=Object(n.createContext)({isLoggedIn:!1,gebruikerId:null,gebruiker:void 0,token:null,login:function(){},logout:function(){}})},20:function(e,t,c){"use strict";c(0),c(39);var n=c(1);t.a=function(e){return Object(n.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(n.jsx)("div",{className:"lds-dual-ring"})})}},28:function(e,t,c){},29:function(e,t,c){},36:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(22),s=c.n(i),r=(c(28),c(14)),l=c(3),j=c(8),b=c(11),o=(c(29),c(1)),d=function(){var e=Object(n.useContext)(b.a);return Object(o.jsxs)("nav",{className:"nav",children:[Object(o.jsxs)("h2",{children:["Welkom ",e.gebruiker?"".concat(e.gebruiker.naam):""]}),e.gebruiker&&Object(o.jsxs)("div",{className:"nav__user__info",children:[Object(o.jsx)("img",{src:"".concat("http://localhost:5000","/").concat(e.gebruiker.image),alt:""}),Object(o.jsx)("h4",{children:e.gebruiker.naam})]})]})},u=c(12),O=(c(36),function(){var e=Object(n.useContext)(b.a);return Object(o.jsx)("div",{className:"sidebar",children:Object(o.jsxs)("div",{className:"sidebar__container",children:[Object(o.jsxs)("div",{className:"sidebar__brand",children:[Object(o.jsx)("h1",{children:"Guardian"}),Object(o.jsx)("p",{className:"time",children:"09:54"}),Object(o.jsx)("p",{className:"date",children:"11-5-2021"})]}),Object(o.jsx)("div",{className:"sidebar__menu",children:Object(o.jsxs)("ul",{children:[e.isLoggedIn&&Object(o.jsx)("li",{children:Object(o.jsxs)(j.c,{to:"/",exact:!0,activeClassName:"active",children:[Object(o.jsx)(u.a,{className:"sidebar__icon",icon:"clipboard"}),"Logboek"]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.c,{to:"/gebruikers",activeClassName:"active",children:[Object(o.jsx)(u.a,{className:"sidebar__icon",icon:"user"}),"Gebruikers"]})}),!e.isLoggedIn&&Object(o.jsx)("li",{children:Object(o.jsxs)(j.c,{to:"/login",activeClassName:"active",children:[Object(o.jsx)(u.a,{className:"sidebar__icon",icon:"sign-in-alt"}),"Log in"]})}),!e.isLoggedIn&&Object(o.jsx)("li",{children:Object(o.jsxs)(j.c,{to:"/signup",activeClassName:"active",children:[Object(o.jsx)(u.a,{className:"sidebar__icon",icon:"user-plus"}),"Sign up"]})}),e.isLoggedIn&&Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{onClick:e.logout,to:"#",children:[Object(o.jsx)(u.a,{className:"sidebar__icon",icon:"sign-out-alt"}),"Log out"]})})]})})]})})}),x=c(20),g=c(9),h=c(13);g.b.add(h.a,h.d,h.c,h.b,h.e);var m=a.a.lazy((function(){return c.e(6).then(c.bind(null,55))})),v=a.a.lazy((function(){return c.e(0).then(c.bind(null,47))})),k=a.a.lazy((function(){return Promise.all([c.e(0),c.e(7)]).then(c.bind(null,51))})),p=a.a.lazy((function(){return Promise.all([c.e(0),c.e(8)]).then(c.bind(null,52))})),f=a.a.lazy((function(){return c.e(4).then(c.bind(null,53))})),N=a.a.lazy((function(){return c.e(5).then(c.bind(null,54))}));var _=function(){var e,t=Object(n.useState)(!1),c=Object(r.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(null),u=Object(r.a)(s,2),g=u[0],h=u[1],_=Object(n.useState)(void 0),I=Object(r.a)(_,2),S=I[0],y=I[1],C=Object(n.useCallback)((function(e,t,c,n){i(c),h(e),y(t);var a=n||new Date((new Date).getTime()+36e5);localStorage.setItem("gebruikerData",JSON.stringify({gebruikerId:e,gebruiker:t,token:c,expiration:a.toISOString()}))}),[]),L=Object(n.useCallback)((function(){i(!1),h(null),y(void 0),localStorage.removeItem("gebruikerData")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("gebruikerData"));e&&e.token&&new Date(e.expiration)>new Date&&C(e.gebruikerId,e.gebruiker,e.token,new Date(e.expiration))}),[C]),e=a?Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/",exact:!0,children:Object(o.jsx)(v,{})}),Object(o.jsx)(l.b,{path:"/gebruikers",exact:!0,children:Object(o.jsx)(m,{})}),Object(o.jsx)(l.b,{path:"/logboek/:logId",exact:!0,children:Object(o.jsx)(k,{})}),Object(o.jsx)(l.b,{path:"/logboek/update/:logId",exact:!0,children:Object(o.jsx)(p,{})}),Object(o.jsx)(l.a,{to:"/"})]}):Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/",exact:!0,children:Object(o.jsx)(l.a,{to:"/login"})}),Object(o.jsx)(l.b,{path:"/login",exact:!0,children:Object(o.jsx)(f,{})}),Object(o.jsx)(l.b,{path:"/signup",exact:!0,children:Object(o.jsx)(N,{})}),Object(o.jsx)(l.b,{path:"/gebruikers",exact:!0,children:Object(o.jsx)(m,{})}),Object(o.jsx)(l.b,{path:"*",children:Object(o.jsx)(l.a,{to:"/login"})})]}),Object(o.jsx)(b.a.Provider,{value:{isLoggedIn:!!a,token:a,gebruikerId:g,gebruiker:S,login:C,logout:L},children:Object(o.jsxs)(j.a,{children:[Object(o.jsx)(d,{}),Object(o.jsx)(O,{}),Object(o.jsx)(n.Suspense,{fallback:Object(o.jsx)("div",{className:"center",children:Object(o.jsx)(x.a,{})}),children:e})]})})};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(_,{})}),document.getElementById("root"))}},[[40,2,3]]]);
//# sourceMappingURL=main.a9b695d7.chunk.js.map